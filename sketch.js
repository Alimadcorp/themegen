function loadCustomLists(){const e=document.getElementById("themelist");for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(!n.startsWith("customList_"))continue;const l=n.replace("customList_",""),o=document.createElement("option");o.value=n,o.textContent=l,e.appendChild(o)}}function generate(){const e=document.getElementById("themelist").value;if("all"===e){let e=Math.round(3*Math.random());0===e?gunnarf():1===e?EntryPoint.generate():2===e?banau7f():3===e&&cjanssenf()}else if("gunnar"===e)gunnarf();else if("entry"===e)EntryPoint.generate();else if("banau7"===e)banau7f();else if("cjanssen"===e)cjanssenf();else if(localStorage.getItem(e)){const t=JSON.parse(localStorage.getItem(e)),n=t[Math.floor(Math.random()*t.length)];document.getElementById("title").innerHTML=n}else document.getElementById("title").innerHTML="Invalid List Selected";localStorage.setItem("last",document.getElementById("title").innerHTML)}function gunnarf(){const e=document.getElementById("title"),t=gunnar[Math.round(Math.random()*gunnar.length)];e.innerHTML=t}function banau7f(){const e=document.getElementById("title"),t=banau7[Math.round(Math.random()*banau7.length)];e.innerHTML=t}function cjanssenf(){const e=document.getElementById("title"),t=cjanssen[Math.round(Math.random()*cjanssen.length)];e.innerHTML=t}addEventListener("DOMContentLoaded",(e=>{null!=localStorage.getItem("last")?(loadCustomLists(),document.getElementById("title").innerHTML=localStorage.getItem("last")):generate()})),document.getElementById("copyButton").addEventListener("click",(function(){var e=document.getElementById("title");navigator.clipboard.writeText(e.innerHTML)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("popup"),t=document.getElementById("closePopup"),n=document.getElementById("saveButton"),l=document.getElementById("uploadButton"),o=document.getElementById("downloadButton"),a=document.getElementById("deleteButton"),c=document.getElementById("addListButton"),d=document.getElementById("editListButton"),i=document.getElementById("themelist"),u=document.querySelector("label[for='fileName']");let s=!1,m=null;function r(t){if(t)e.style.display="block";else{if(s&&!confirm("You have unsaved changes. Are you sure you want to close?"))return;e.style.display="none"}}c.addEventListener("click",(()=>{m=null,document.getElementById("fileName").value="",document.getElementById("customListInput").value="",u.textContent="Add New List",r(!0)})),d.addEventListener("click",(()=>{const e=i.value;if(e.startsWith("customList_")&&localStorage.getItem(e)){m=e;const t=e.replace("customList_","");document.getElementById("fileName").value=t,document.getElementById("customListInput").value=JSON.parse(localStorage.getItem(e)).join("\n"),document.querySelector("label[for='fileName']").textContent="Edit list",r(!0)}})),l.addEventListener("click",(async()=>{const e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=()=>{const t=e.files[0],n=new FileReader,l=t.name.replace(/\.[^/.]+$/,"");document.getElementById("fileName").value=l,n.onload=()=>{document.getElementById("customListInput").value=n.result.trim()},n.readAsText(t)},e.click()})),o.addEventListener("click",(()=>{const e=document.getElementById("fileName").value||"CustomList",t=document.getElementById("customListInput").value.trim();if(!t)return void alert("Please enter some list items.");const n=new Blob([t],{type:"text/plain"}),l=document.createElement("a");l.href=URL.createObjectURL(n),l.download=`${e}.txt`,l.click()})),n.addEventListener("click",(()=>{const e=document.getElementById("fileName").value.trim(),t=document.getElementById("customListInput").value.trim();if(!e||!t)return void alert("Please enter both a name and list items.");const n=`customList_${e}`;if(localStorage.getItem(n)&&m!==n&&!confirm(`A list with the name "${e}" already exists. Do you want to replace it?`))return;const l=t.split("\n").map((e=>e.trim()));if(localStorage.setItem(n,JSON.stringify(l)),m){const t=i.querySelector(`option[value="${m}"]`);t.value=n,t.textContent=e}else{const t=document.createElement("option");t.value=n,t.textContent=e,i.appendChild(t)}s=!1,r(!1)})),a.addEventListener("click",(()=>{const e=i.value;localStorage.getItem(e)?confirm(`Are you sure you want to delete the list "${e}"?`)&&(localStorage.removeItem(e),i.removeChild(i.querySelector(`option[value="${e}"]`)),r(!1),d.style.display=localStorage.getItem(i.value)?"inline-block":"none"):alert("Cannot delete a default list.")})),document.getElementById("fileName").addEventListener("input",(()=>{s=!0})),document.getElementById("customListInput").addEventListener("input",(()=>{s=!0})),i.addEventListener("change",(()=>{const e=i.value;d.style.display=localStorage.getItem(e)?"inline-block":"none"})),t.addEventListener("click",(()=>{r(!1),s=!1}))}));const creditsLink=document.getElementById("creditsLink"),creditsPopup=document.getElementById("creditsPopup"),backButton=document.getElementById("backButton");creditsLink.addEventListener("click",e=>{e.preventDefault(),creditsPopup.style.display="block"}),backButton.addEventListener("click",()=>{creditsPopup.style.display="none"});
